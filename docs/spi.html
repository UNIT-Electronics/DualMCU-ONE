
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>SPI (Serial Peripheral Interface) &#8212; DualMCU ONE Development Board 0.0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=60269fe5" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=e645c8fa"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=00122899"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="_static/tabs.js?v=3030b3cb"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'spi';</script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="WS2812 Control" href="WS2812.html" />
    <link rel="prev" title="Conector JST SH 1.0mm 4 pins" href="jst.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/Logo-UNIT_Web-04-800x182.png" class="logo__image only-light" alt="DualMCU ONE Development Board 0.0.1 documentation - Home"/>
    <script>document.write(`<img src="_static/Logo-UNIT_Web-04-800x182.png" class="logo__image only-dark" alt="DualMCU ONE Development Board 0.0.1 documentation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="about.html">DualMCU ONE</a></li>
<li class="toctree-l1"><a class="reference internal" href="pinout.html">Pinout</a></li>
<li class="toctree-l1"><a class="reference internal" href="env.html">IDE Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="lib.html">Installing packages - Micropython</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpio.html">General Purpose Input/Output (GPIO) RP2040 &amp; ESP32</a></li>
<li class="toctree-l1"><a class="reference internal" href="adc.html">Analog to Digital Conversion</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="i2c.html">I2C (Inter-Integrated Circuit)</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="library.html">DualMCU Library (MicroPython)</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="jst.html">Conector JST SH 1.0mm 4 pins</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">SPI (Serial Peripheral Interface)</a></li>
<li class="toctree-l1"><a class="reference internal" href="WS2812.html">WS2812 Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="communication.html">Communication</a></li>

<li class="toctree-l1"><a class="reference internal" href="duino.html">Arduino Shields Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="report.html">How to Generate an Error Report</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/UNIT-Electronics/DualMCU-ONE" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/UNIT-Electronics/DualMCU-ONE/edit/main/docs/spi.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/UNIT-Electronics/DualMCU-ONE/issues/new?title=Issue%20on%20page%20%2Fspi.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/spi.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>SPI (Serial Peripheral Interface)</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#spi-overview">SPI Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pinout-details">Pinout Details</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#spi-between-esp32-rp2040">SPI between ESP32 &amp; RP2040</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sdcard-spi">SDCard SPI</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#library-micropython">Library (MicroPython)</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#descriptions">Descriptions</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spi-arduino-ide">SPI (Arduino IDE)</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="spi-serial-peripheral-interface">
<h1>SPI (Serial Peripheral Interface)<a class="headerlink" href="#spi-serial-peripheral-interface" title="Link to this heading">#</a></h1>
<p>Explore SPI communication protocol and learn how to interface with SPI devices using the DualMCU ONE board. Well walk you through setting up SPI communication and
communicating with SPI devices.</p>
<section id="spi-overview">
<h2>SPI Overview<a class="headerlink" href="#spi-overview" title="Link to this heading">#</a></h2>
<p>SPI (Serial Peripheral Interface) is a synchronous, full-duplex, master-slave communication bus. It is commonly used to connect microcontrollers to peripherals such as sensors, displays, and memory devices. The DualMCU ONE development board features SPI communication capabilities, allowing you to interface with a wide range of SPI devices.</p>
</section>
<section id="pinout-details">
<h2>Pinout Details<a class="headerlink" href="#pinout-details" title="Link to this heading">#</a></h2>
<p>In the next figure, you can see the SPI pins on the DualMCU ONE board and the corresponding GPIO pins on the ESP32 and RP2040 microcontrollers.</p>
<figure class="align-center" id="id1">
<span id="figura-spi"></span><a class="reference internal image-reference" href="_images/spi_uart.png"><img alt="SPI" src="_images/spi_uart.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 29 </span><span class="caption-text">SPI Pins</span><a class="headerlink" href="#id1" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Below is the pinout table for the SPI connections on the DualMCU ONE, detailing the corresponding GPIO connections for both the ESP32 and RP2040 microcontrollers.</p>
<div class="pst-scrollable-table-container"><table class="table table-center" id="id2">
<caption><span class="caption-number">Table 8 </span><span class="caption-text">SPI Pinout</span><a class="headerlink" href="#id2" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 33.3%" />
<col style="width: 33.3%" />
<col style="width: 33.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>PIN</p></th>
<th class="head"><p>GPIO ESP32</p></th>
<th class="head"><p>GPIO RP2040</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SCK</p></td>
<td><p>18</p></td>
<td><p>18</p></td>
</tr>
<tr class="row-odd"><td><p>MISO</p></td>
<td><p>19</p></td>
<td><p>16</p></td>
</tr>
<tr class="row-even"><td><p>MOSI</p></td>
<td><p>23</p></td>
<td><p>19</p></td>
</tr>
<tr class="row-odd"><td><p>SS</p></td>
<td><p>5</p></td>
<td><p>17</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>ESP32 and RP2040 have conections sharing the same pins, so you recommend to use only one microcontroller at a time.</p>
<div class="pst-scrollable-table-container"><table class="table table-center" id="id3">
<caption><span class="caption-number">Table 9 </span><span class="caption-text">sharing pins</span><a class="headerlink" href="#id3" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>GPIO ESP32</p></th>
<th class="head"><p>GPIO RP2040</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>5</p></td>
<td><p>13</p></td>
</tr>
<tr class="row-odd"><td><p>18</p></td>
<td><p>14</p></td>
</tr>
<tr class="row-even"><td><p>23</p></td>
<td><p>12</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="spi-between-esp32-rp2040">
<h2>SPI between ESP32 &amp; RP2040<a class="headerlink" href="#spi-between-esp32-rp2040" title="Link to this heading">#</a></h2>
<p>DualMCU ONE board  was designed to be compatible with both ESP32 and RP2040 microcontrollers.  So it is possible to share information between the two microcontrollers
using the SPI protocol. For this, we will use the following pins:</p>
<div class="pst-scrollable-table-container"><table class="table table-center" id="id4">
<caption><span class="caption-number">Table 10 </span><span class="caption-text">SPI Connections</span><a class="headerlink" href="#id4" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 25.0%" />
<col style="width: 25.0%" />
<col style="width: 25.0%" />
<col style="width: 25.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Pin</p></th>
<th class="head"><p>SPI RP2040</p></th>
<th class="head"><p>Pin</p></th>
<th class="head"><p>SPI ESP32</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SCK</p></td>
<td><p>14</p></td>
<td><p>SCK</p></td>
<td><p>18</p></td>
</tr>
<tr class="row-odd"><td><p>MISO</p></td>
<td><p>12</p></td>
<td><p>MOSI</p></td>
<td><p>23</p></td>
</tr>
<tr class="row-even"><td><p>MOSI</p></td>
<td><p>15</p></td>
<td><p>MISO</p></td>
<td><p>14</p></td>
</tr>
<tr class="row-odd"><td><p>SS</p></td>
<td><p>13</p></td>
<td><p>SS</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>READY</p></td>
<td><p>7</p></td>
<td><p>READY</p></td>
<td><p>33</p></td>
</tr>
<tr class="row-odd"><td><p>RESET</p></td>
<td><p>16</p></td>
<td><p>RESET</p></td>
<td><p>RST</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The connection RST does not exist physically; therefore, it is necessary to establish an external connection.</p>
</div>
</section>
<section id="sdcard-spi">
<h2>SDCard SPI<a class="headerlink" href="#sdcard-spi" title="Link to this heading">#</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Ensure that the Micro SD contain data. We recommend saving multiple files beforehand to facilitate the use.</p>
</div>
<figure class="align-center" id="id5">
<span id="figura-micro-sd-card"></span><a class="reference internal image-reference" href="_images/Micro-SD-Card-Pinout.png"><img alt="Micro SD Card Pinout" src="_images/Micro-SD-Card-Pinout.png" style="width: 40%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 30 </span><span class="caption-text">Micro SD Card Pinout</span><a class="headerlink" href="#id5" title="Link to this image">#</a></p>
</figcaption>
</figure>
<section id="library-micropython">
<h3>Library (MicroPython)<a class="headerlink" href="#library-micropython" title="Link to this heading">#</a></h3>
<p>The <cite>dualmcu.py</cite> library for MicroPython on ESP32 &amp; RP2040 is compatible with the reader and writer of the Micro SD card. The library provides a simple interface for reading and writing files on the SD card.
The library is available on PyPi and can be installed using the Thonny IDE.</p>
<p><strong>Installation</strong></p>
<ol class="arabic simple">
<li><p>Open <a class="reference external" href="https://thonny.org/">Thonny</a>.</p></li>
<li><p>Navigate to <strong>Tools</strong> -&gt; <strong>Manage Packages</strong>.</p></li>
<li><p>Search for <code class="docutils literal notranslate"><span class="pre">dualmcu</span></code> and click <strong>Install</strong>.</p></li>
</ol>
<p>for more information, Check the section</p>
<blockquote>
<div><ul class="simple">
<li><p>DualMCU ONE Library</p></li>
</ul>
</div></blockquote>
<p>Alternatively, download the library from <a class="reference external" href="https://pypi.org/project/dualmcu/">dualmcu.py</a>.</p>
<p>VSPI &amp; HSPI
<strong>VSPI Interfacing.</strong>
.. _figura-micro-sd-card-reader:</p>
<figure class="align-center" id="id6">
<a class="reference internal image-reference" href="_images/Lector-Micro-SD.jpg"><img alt="Micro SD Card reader" src="_images/Lector-Micro-SD.jpg" style="width: 40%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 31 </span><span class="caption-text">Micro SD Card external reader</span><a class="headerlink" href="#id6" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>The conections are as follows:</p>
<p>This table illustrates the connections between the SD card and the GPIO pins on the ESP32 and RP2040 microcontrollers.</p>
<div class="pst-scrollable-table-container"><table class="table table-center" id="id7">
<caption><span class="caption-number">Table 11 </span><span class="caption-text">VSPI Connections</span><a class="headerlink" href="#id7" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 14.3%" />
<col style="width: 28.6%" />
<col style="width: 28.6%" />
<col style="width: 28.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>SD Card</p></th>
<th class="head"><p>Pin Name</p></th>
<th class="head"><p>ESP32</p></th>
<th class="head"><p>RP2040</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>D3</p></td>
<td><p>SS</p></td>
<td><p>5</p></td>
<td><p>17</p></td>
</tr>
<tr class="row-odd"><td><p>CMD</p></td>
<td><p>MOSI</p></td>
<td><p>23</p></td>
<td><p>19</p></td>
</tr>
<tr class="row-even"><td><p>VSS</p></td>
<td><p>GND</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>VDD</p></td>
<td><p>3.3V</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>CLK</p></td>
<td><p>SCK</p></td>
<td><p>18</p></td>
<td><p>18</p></td>
</tr>
<tr class="row-odd"><td><p>D0</p></td>
<td><p>MISO</p></td>
<td><p>19</p></td>
<td><p>16</p></td>
</tr>
</tbody>
</table>
</div>
<section id="descriptions">
<h4>Descriptions<a class="headerlink" href="#descriptions" title="Link to this heading">#</a></h4>
<blockquote>
<div><ul class="simple">
<li><p>SCK (Serial Clock)</p></li>
<li><p>SS (Slave Select)</p></li>
</ul>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">machine</span><span class="o">,</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">dualmcu</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">SCK_PIN</span> <span class="o">=</span> <span class="mi">18</span>
<span class="n">MOSI_PIN</span> <span class="o">=</span> <span class="mi">23</span>
<span class="n">MISO_PIN</span> <span class="o">=</span> <span class="mi">19</span>
<span class="n">CS_PIN</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">spi</span> <span class="o">=</span> <span class="n">machine</span><span class="o">.</span><span class="n">SPI</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="mi">100000</span><span class="p">,</span> <span class="n">polarity</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sck</span><span class="o">=</span><span class="n">machine</span><span class="o">.</span><span class="n">Pin</span><span class="p">(</span><span class="n">SCK_PIN</span><span class="p">),</span> <span class="n">mosi</span><span class="o">=</span><span class="n">machine</span><span class="o">.</span><span class="n">Pin</span><span class="p">(</span><span class="n">MOSI_PIN</span><span class="p">),</span> <span class="n">miso</span><span class="o">=</span><span class="n">machine</span><span class="o">.</span><span class="n">Pin</span><span class="p">(</span><span class="n">MISO_PIN</span><span class="p">))</span>
<span class="n">spi</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">sd</span> <span class="o">=</span> <span class="n">SDCard</span><span class="p">(</span><span class="n">spi</span><span class="p">,</span> <span class="n">machine</span><span class="o">.</span><span class="n">Pin</span><span class="p">(</span><span class="n">CS_PIN</span><span class="p">))</span>
<span class="n">os</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="n">sd</span><span class="p">,</span> <span class="s1">&#39;/sd&#39;</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;files ...&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;/sd&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p><strong>HSPI Interfacing.</strong></p>
<p>This table details the connections between the SD card and the ESP32 microcontroller.</p>
<div class="pst-scrollable-table-container"><table class="table table-center" id="id8">
<caption><span class="caption-number">Table 12 </span><span class="caption-text">HSPI Connections</span><a class="headerlink" href="#id8" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 20.0%" />
<col style="width: 40.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>SD Card</p></th>
<th class="head"><p>ESP32</p></th>
<th class="head"><p>PIN</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>D2</p></td>
<td></td>
<td><p>12</p></td>
</tr>
<tr class="row-odd"><td><p>D3</p></td>
<td><p>SS (Slave Select)</p></td>
<td><p>13</p></td>
</tr>
<tr class="row-even"><td><p>CMD</p></td>
<td><p>MOSI</p></td>
<td><p>15</p></td>
</tr>
<tr class="row-odd"><td><p>VSS</p></td>
<td><p>GND</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>VDD</p></td>
<td><p>3.3V</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>CLK</p></td>
<td><p>SCK (Serial Clock)</p></td>
<td><p>14</p></td>
</tr>
<tr class="row-even"><td><p>VSS</p></td>
<td><p>GND</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>D0</p></td>
<td><p>MISO</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>D1</p></td>
<td></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
</div>
<p>For the test , we will utilize an ESP32 WROM-32E and a  SanDisk Micros Ultra card with a capacity of 32 GB.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">machine</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">dualmcu</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># Initialize SPI interface for the SD card</span>
<span class="n">spi</span> <span class="o">=</span> <span class="n">machine</span><span class="o">.</span><span class="n">SPI</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="mi">1000000</span><span class="p">,</span> <span class="n">polarity</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sck</span><span class="o">=</span><span class="n">machine</span><span class="o">.</span><span class="n">Pin</span><span class="p">(</span><span class="mi">14</span><span class="p">),</span> <span class="n">mosi</span><span class="o">=</span><span class="n">machine</span><span class="o">.</span><span class="n">Pin</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span> <span class="n">miso</span><span class="o">=</span><span class="n">machine</span><span class="o">.</span><span class="n">Pin</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>

<span class="c1"># Initialize the SD card</span>
<span class="n">sd</span> <span class="o">=</span> <span class="n">SDCard</span><span class="p">(</span><span class="n">spi</span><span class="p">,</span> <span class="n">machine</span><span class="o">.</span><span class="n">Pin</span><span class="p">(</span><span class="mi">13</span><span class="p">))</span>

<span class="c1"># Mount the filesystem</span>
<span class="n">vfs</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">VfsFat</span><span class="p">(</span><span class="n">sd</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="n">vfs</span><span class="p">,</span> <span class="s2">&quot;/sd&quot;</span><span class="p">)</span>

<span class="c1"># List files in the root of the SD card</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Files in the root of the SD card:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;/sd&quot;</span><span class="p">))</span>


<span class="n">os</span><span class="o">.</span><span class="n">umount</span><span class="p">(</span><span class="s2">&quot;/sd&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="spi-arduino-ide">
<h3>SPI (Arduino IDE)<a class="headerlink" href="#spi-arduino-ide" title="Link to this heading">#</a></h3>
<p>Arduino IDE is compatible for reader and writer of the Micro SD card. The library provides a simple interface for reading and writing files on the SD card.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">VSPI</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div></div>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="jst.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Conector JST SH 1.0mm 4 pins</p>
      </div>
    </a>
    <a class="right-next"
       href="WS2812.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">WS2812 Control</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#spi-overview">SPI Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pinout-details">Pinout Details</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#spi-between-esp32-rp2040">SPI between ESP32 &amp; RP2040</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sdcard-spi">SDCard SPI</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#library-micropython">Library (MicroPython)</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#descriptions">Descriptions</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#spi-arduino-ide">SPI (Arduino IDE)</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Cesar Bautista
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024, Unit Electronics.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>